<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concepts/transactions/prog-txn-blocks" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Programmable Transaction Blocks | Sui Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.sui.io/img/sui-doc-og.png"><meta data-rh="true" name="twitter:image" content="https://docs.sui.io/img/sui-doc-og.png"><meta data-rh="true" property="og:url" content="https://docs.sui.io/concepts/transactions/prog-txn-blocks"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Programmable Transaction Blocks | Sui Documentation"><meta data-rh="true" name="description" content="Programmable transaction blocks are a group of commands that complete a transaction on Sui."><meta data-rh="true" property="og:description" content="Programmable transaction blocks are a group of commands that complete a transaction on Sui."><link data-rh="true" rel="icon" href="../../img/favicon.ico"><link data-rh="true" rel="canonical" href="prog-txn-blocks.html"><link data-rh="true" rel="alternate" href="prog-txn-blocks.html" hreflang="en"><link data-rh="true" rel="alternate" href="prog-txn-blocks.html" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZF283DJAYX-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Sui Documentation" href="../../opensearch.xml">
<link rel="preconnect" href="https://us.i.posthog.com">
<script>!function(t,e){var o,s,r,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,n,p){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src=n.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,a);var g=e;for(void 0!==p?g=e[p]=[]:p="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==p&&(e+="."+p),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),s=0;s<o.length;s++)c(g,o[s]);e._i.push([i,n,p])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_9Ny8QzZBTmsZh0ucEhdknMivaJhATZjbplVVaiirA9T",{api_host:"https://us.i.posthog.com",id:"default"})</script>










<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&amp;display=swap">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="../../assets/css/styles.e5383d0f.css">
<script src="../../assets/js/runtime~main.c6758a96.js" defer="defer"></script>
<script src="../../assets/js/main.5a96279b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_y7Zq" href="prog-txn-blocks.html#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="../../index.html"><div class="navbar__logo"><img src="../../img/sui-logo.svg" alt="Sui Docs Logo" class="themedComponent_fc7v themedComponent--light_SFoa"><img src="../../img/sui-logo.svg" alt="Sui Docs Logo" class="themedComponent_fc7v themedComponent--dark_o7dU"></div><b class="navbar__title text--truncate">Sui Documentation</b></a><div class="flex flex-[8_1_0%] items-center justify-start gap-8 min-[1100px]:gap-16"><a class="navbar__item navbar__link" href="../../guides.html">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="../../concepts.html">Concepts</a><a class="navbar__item navbar__link" href="../../standards.html">Standards</a><a class="navbar__item navbar__link" href="../../references.html">References</a></div></div><div class="navbar__items navbar__items--right"><div class="flex flex-[8_1_0%] items-center justify-start gap-8 min-[1100px]:gap-16"></div><div class="theme-toggle-wrapper text-white max-[996px]:hidden"><div class="toggle_sgcG"><button class="clean-btn toggleButton_PfWu toggleButtonDisabled_keYU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pMyg"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_k_Wp"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div><div class="navbarSearchContainer_hdzx"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_obr0"><div class="docsWrapper_cx5y"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ixAB" type="button"></button><div class="docRoot_o73X"><aside class="theme-doc-sidebar-container docSidebarContainer_sVsO"><div class="sidebarViewport_A_mM"><div class="sidebar_dLPM"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_CWUi"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../concepts.html">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../components.html">Sui Components</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="../app-devs.html">App Developers</a><button aria-label="Collapse sidebar category &#x27;App Developers&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../object-model.html">Object Model</a><button aria-label="Expand sidebar category &#x27;Object Model&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../sui-move-concepts.html">Move Overview</a><button aria-label="Expand sidebar category &#x27;Move Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="../transactions.html">Transactions</a><button aria-label="Collapse sidebar category &#x27;Transactions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="prog-txn-blocks.html">Programmable Transaction Blocks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="sponsored-transactions.html">Sponsored Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="gas-smashing.html">Gas Smashing</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../grpc-overview.html">gRPC Overview (Beta)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../graphql-rpc.html">GraphQL for Sui RPC (Alpha)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../gaming.html">Gaming on Sui</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../cryptography.html">Cryptography</a><button aria-label="Expand sidebar category &#x27;Cryptography&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../sui-architecture.html">Sui Architecture</a><button aria-label="Expand sidebar category &#x27;Sui Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../tokenomics.html">Tokenomics</a><button aria-label="Expand sidebar category &#x27;Tokenomics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../research-papers.html">Research Papers</a></li></ul></nav></div></div></aside><main class="docMainContainer_DePh"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Iw6L"><div class="docItemContainer_ausd"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_yIz6" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../index.html"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_prGD"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="../app-devs.html"><span itemprop="name">App Developers</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="../transactions.html"><span itemprop="name">Transactions</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Programmable Transaction Blocks</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_Eyz5 theme-doc-toc-mobile tocMobile_BcqM"><button type="button" class="clean-btn tocCollapsibleButton_PRt6">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Programmable Transaction Blocks</h1></header><p>On Sui, a transaction is more than a basic record of the flow of assets. Transactions on Sui are composed of a number of commands that execute on inputs to define the result of the transaction. Termed programmable transaction blocks (PTBs), these groups of commands define all user transactions on Sui. PTBs allow a user to call multiple Move functions, manage their objects, and manage their coins in a single transaction--without publishing a new Move package. Designed with automation and transaction builders in mind, PTBs are a lightweight and flexible way of generating transactions. More intricate programming patterns, such as loops, are not supported, however, and in those cases you must publish a new Move package.</p>
<p>As mentioned, each PTB is comprised of individual transaction commands (sometimes referred to simply as transactions or commands). Each transaction command executes in order, and you can use the results from one transaction command in any subsequent transaction command. The effects, specifically object modifications or transfers, of all transaction commands in a block are applied atomically at the end of the transaction. If one transaction command fails, the entire block fails and no effects from the commands are applied.</p>
<p>A PTB can perform up to 1,024 unique operations in a single execution, whereas transactions on traditional blockchains would require 1,024 individual executions to accomplish the same result. The structure also promotes cheaper gas fees. The cost of facilitating individual transactions is always more than the cost of those same transactions blocked together in a PTB.</p>
<p>The remainder of this topic covers the semantics of the execution of the transaction commands. It assumes familiarity with the Sui object model and the Move language. For more information on those topics, see the following documents:</p>
<ul>
<li><a href="../object-model.html">Object model</a></li>
<li><a href="../sui-move-concepts.html">Move Concepts</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uDrR" id="transaction-type">Transaction type<a href="prog-txn-blocks.html#transaction-type" class="hash-link" aria-label="Direct link to Transaction type" title="Direct link to Transaction type">​</a></h2>
<p>There are two parts of a PTB that are relevant to execution semantics. Other transaction information, such as the transaction sender or the gas limit, might be referenced but are out of scope. The structure of a PTB is:</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Input</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    commands</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Command</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Looking closer at the two main components:</p>
<ul>
<li>The <code>inputs</code> value is a vector of arguments, <code>[Input]</code>. These arguments are either objects or pure values that you can use in the commands. The objects are either owned by the sender or are shared/immutable objects. The pure values represent simple Move values, such as <code>u64</code> or <code>String</code> values, which you can be construct purely from their bytes. For historical reasons, <code>Input</code> is <code>CallArg</code> in the Rust implementation.</li>
<li>The <code>commands</code> value is a vector of commands, <code>[Command]</code>. The possible commands are:<!-- -->
<ul>
<li><code>TransferObjects</code> sends multiple (one or more) objects to a specified address.</li>
<li><code>SplitCoins</code> splits off multiple (one or more) coins from a single coin. It can be any <code>sui::coin::Coin&lt;_&gt;</code> object.</li>
<li><code>MergeCoins</code> merges multiple (one or more) coins into a single coin. Any <code>sui::coin::Coin&lt;_&gt;</code> objects can be merged, as long as they are all of the same type.</li>
<li><code>MakeMoveVec</code> creates a vector (potentially empty) of Move values. This is used primarily to construct vectors of Move values to be used as arguments to <code>MoveCall</code>.</li>
<li><code>MoveCall</code> invokes either an <code>entry</code> or a <code>public</code> Move function in a published package.</li>
<li><code>Publish</code> creates a new package and calls the <code>init</code> function of each module in the package.</li>
<li><code>Upgrade</code> upgrades an existing package. The upgrade is gated by the <code>sui::package::UpgradeCap</code> for that package.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uDrR" id="inputs-and-results">Inputs and results<a href="prog-txn-blocks.html#inputs-and-results" class="hash-link" aria-label="Direct link to Inputs and results" title="Direct link to Inputs and results">​</a></h2>
<p>Inputs and results are the two types of values you can use in transaction commands. Inputs are the values that are provided to the PTB, and results are the values that are produced by the PTB commands. The inputs are either objects or simple Move values, and the results are arbitrary Move values (including objects).</p>
<p>The inputs and results can be seen as populating an array of values. For inputs, there is a single array, but for results, there is an array for each individual transaction command, creating a 2D-array of result values. You can access these values by borrowing (mutably or immutably), by copying (if the type permits), or by moving (which takes the value out of the array without re-indexing).</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="inputs">Inputs<a href="prog-txn-blocks.html#inputs" class="hash-link" aria-label="Direct link to Inputs" title="Direct link to Inputs">​</a></h3>
<p>Input arguments to a PTB are broadly categorized as either objects or pure values. The direct implementation of these arguments is often obscured by transaction builders or SDKs. This section describes information or data the Sui network needs when specifying the list of inputs, <code>[Input]</code>. Each <code>Input</code> is either an object, <code>Input::Object(ObjectArg)</code>, which contains the necessary metadata to specify to object being used, or a pure value, <code>Input::Pure(PureArg)</code>, which contains the bytes of the value.</p>
<p>For object inputs, the metadata needed differs depending on the type of <a href="../object-ownership.html">ownership of the object</a>. The data for the <code>ObjectArg</code> enum follows:</p>
<p>If the object is owned by an address (or it is immutable), then use <code>ObjectArg::ImmOrOwnedObject(ObjectID, SequenceNumber, ObjectDigest)</code>. The triple respectively specifies the object&#x27;s ID, its sequence number (also known as its version), and the digest of the object&#x27;s data.</p>
<p>If an object is shared, then use <code>Object::SharedObject { id: ObjectID, initial_shared_version: SequenceNumber, mutable: bool }</code>. Unlike <code>ImmOrOwnedObject</code>, a shared objects version and digest are determined by the network&#x27;s consensus protocol. The <code>initial_shared_version</code> is the version of the object when it was first shared, which is used by consensus when it has not yet seen a transaction with that object. While all shared objects <em>can</em> be mutated, the <code>mutable</code> flag indicates whether the object is to be used mutably in this transaction. In the case where the <code>mutable</code> flag is set to <code>false</code>, the object is read-only, and the system can schedule other read-only transactions in parallel.</p>
<p>If the object is owned by another object, as in it was sent to an object&#x27;s ID via the <code>TransferObjects</code> command or the <code>sui::transfer::transfer</code> function, then use <code>ObjectArg::Receiving(ObjectID, SequenceNumber, ObjectDigest)</code>. The object data is the same as for the <code>ImmOrOwnedObject</code> case.</p>
<p>For pure inputs, the only data provided is the <a href="https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/docs/std/bcs.md" target="_blank" rel="noopener noreferrer">BCS</a> bytes, which are deserialized to construct Move values. Not all Move values can be constructed from BCS bytes. This means that even if the bytes match the expected layout for a given Move type, they cannot be deserialized into a value of that type unless the type is one of the types permitted for <code>Pure</code> values. The following types are allowed to be used with pure values:</p>
<ul>
<li>All primitive types:<!-- -->
<ul>
<li><code>u8</code></li>
<li><code>u16</code></li>
<li><code>u32</code></li>
<li><code>u64</code></li>
<li><code>u128</code></li>
<li><code>u256</code></li>
<li><code>bool</code></li>
<li><code>address</code></li>
</ul>
</li>
<li>A string, either an ASCII string (<code>std::ascii::String</code>) or UTF8 string (<code>std::string::String</code>). In either case, the bytes are validated to be a valid string with the respective encoding.</li>
<li>An object ID <code>sui::object::ID</code>.</li>
<li>A vector, <code>vector&lt;T&gt;</code>, where <code>T</code> is a valid type for a pure input, checked recursively.</li>
<li>An option, <code>std::option::Option&lt;T&gt;</code>, where <code>T</code> is a valid type for a pure input, checked recursively.</li>
</ul>
<p>Interestingly, the bytes are not validated until the type is specified in a command, for example in <code>MoveCall</code> or <code>MakeMoveVec</code>. This means that a given pure input could be used to instantiate Move values of several types. See the <a href="prog-txn-blocks.html#arguments">Arguments section</a> for more details.</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="results">Results<a href="prog-txn-blocks.html#results" class="hash-link" aria-label="Direct link to Results" title="Direct link to Results">​</a></h3>
<p>Each transaction command produces a (possibly empty) array of values. The type of the value can be any arbitrary Move type, so unlike inputs, the values are not limited to objects or pure values. The number of results generated and their types are specific to each transaction command. The specifics for each command can be found in the section for that command, but in summary:</p>
<ul>
<li><code>MoveCall</code>: the number of results and their types are determined by the Move function being called. Move functions that return references are not supported at this time.</li>
<li><code>SplitCoins</code>: produces (one or more) coins from a single coin. The type of each coin is <code>sui::coin::Coin&lt;T&gt;</code> where the specific coin type <code>T</code> matches the coin being split.</li>
<li><code>Publish</code>: returns the upgrade capability, <code>sui::package::UpgradeCap</code>, for the newly published package.</li>
<li><code>Upgrade</code>: returns the upgrade receipt, <code>sui::package::UpgradeReceipt</code>, for the upgraded package.</li>
<li><code>TransferObjects</code> and <code>MergeCoins</code> do not produce any results (an empty result vector).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="argument-structure-and-usage">Argument structure and usage<a href="prog-txn-blocks.html#argument-structure-and-usage" class="hash-link" aria-label="Direct link to Argument structure and usage" title="Direct link to Argument structure and usage">​</a></h3>
<p>Each command takes <code>Argument</code>s that specify the input or result being used. The usage (by-reference or by-value) is inferred based on the type of the argument and the expected argument of the command. First, examine the structure of the <code>Argument</code> enum.</p>
<ul>
<li>
<p><code>Input(u16)</code> is an input argument, where the <code>u16</code> is the index of the input in the input vector. For example, given an input vector of <code>[Object1, Object2, Pure1, Object3]</code>, <code>Object1</code> is accessed with <code>Input(0)</code> and <code>Pure1</code> is accessed with <code>Input(2)</code>.</p>
</li>
<li>
<p><code>GasCoin</code> is a special input argument representing the object for the <code>SUI</code> coin used to pay for gas. It is kept separate from the other inputs because the gas coin is always present in each transaction and has special restrictions (see below) not present for other inputs. Additionally, the gas coin being separate makes its usage explicit, which is helpful for sponsored transactions where the sponsor might not want the sender to use the gas coin for anything other than gas.</p>
<p>The gas coin cannot be taken by-value except with the <code>TransferObjects</code> command. If you need an owned version of the gas coin, you can first use <code>SplitCoins</code> to split off a single coin.</p>
<p>This limitation exists to make it easy for the remaining gas to be returned to the coin at the end of execution. In other words, if the gas coin was wrapped or deleted, then there would not be an obvious spot for the excess gas to be returned. See the <a href="prog-txn-blocks.html#execution">Execution section</a> for more details.</p>
</li>
<li>
<p><code>NestedResult(u16, u16)</code> uses the value from a previous command. The first <code>u16</code> is the index of the command in the command vector, and the second <code>u16</code> is the index of the result in the result vector of that command. For example, given a command vector of <code>[MoveCall1, MoveCall2, TransferObjects]</code> where <code>MoveCall2</code> has a result vector of <code>[Value1, Value2]</code>, <code>Value1</code> would be accessed with <code>NestedResult(1, 0)</code> and <code>Value2</code> would be accessed with <code>NestedResult(1, 1)</code>.</p>
</li>
<li>
<p><code>Result(u16)</code> is a special form of <code>NestedResult</code> where <code>Result(i)</code> is roughly equivalent to <code>NestedResult(i, 0)</code>. Unlike <code>NestedResult(i, 0)</code>, <code>Result(i)</code>, however, this errors if the result array at index <code>i</code> is empty or has more than one value. The ultimate intention of <code>Result</code> is to allow accessing the entire result array, but that is not yet supported. So in its current state, <code>NestedResult</code> can be used instead of <code>Result</code> in all circumstances.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uDrR" id="execution">Execution<a href="prog-txn-blocks.html#execution" class="hash-link" aria-label="Direct link to Execution" title="Direct link to Execution">​</a></h2>
<p>For the execution of PTBs, the input vector is populated by the input objects or pure value bytes. The transaction commands are then executed in order, and the results are stored in the result vector. Finally, the effects of the transaction are applied atomically. The following sections describe each aspect of execution in greater detail.</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="start-of-execution">Start of execution<a href="prog-txn-blocks.html#start-of-execution" class="hash-link" aria-label="Direct link to Start of execution" title="Direct link to Start of execution">​</a></h3>
<p>At the beginning of execution, the PTB runtime takes the already loaded input objects and loads them into the input array. The objects are already verified by the network, checking rules like existence and valid ownership. The pure value bytes are also loaded into the array but not validated until usage.</p>
<p>The most important thing to note at this stage is the effects on the gas coin. At the beginning of execution, the maximum gas budget (in terms of <code>SUI</code>) is withdrawn from the gas coin. Any unused gas is returned to the gas coin at the end of execution, even if the coin has changed owners.</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="executing-a-transaction-command">Executing a transaction command<a href="prog-txn-blocks.html#executing-a-transaction-command" class="hash-link" aria-label="Direct link to Executing a transaction command" title="Direct link to Executing a transaction command">​</a></h3>
<p>Each transaction command is then executed in order. First, examine the rules around arguments, which are shared by all commands.</p>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="arguments">Arguments<a href="prog-txn-blocks.html#arguments" class="hash-link" aria-label="Direct link to Arguments" title="Direct link to Arguments">​</a></h4>
<p>You can use each argument by-reference or by-value. The usage is based on the type of the argument and the type signature of the command.</p>
<ul>
<li>If the signature expects an <code>&amp;mut T</code>, the runtime checks the argument has type <code>T</code> and it is then mutably borrowed.</li>
<li>If the signature expects an <code>&amp;T</code>, the runtime checks the argument has type <code>T</code> and it is then immutably borrowed.</li>
<li>If the signature expects a <code>T</code>, the runtime checks the argument has type <code>T</code> and it is copied if <code>T: copy</code> and moved otherwise. No object in Sui has <code>copy</code> because the unique ID field <code>sui::object::UID</code> present in all objects does not have the <code>copy</code> ability.</li>
</ul>
<p>The transaction fails if an argument is used in any form after being moved. There is no way to restore an argument to its position (its input or result index) after it is moved.</p>
<p>If an argument is copied but does not have the <code>drop</code> ability, then the last usage is inferred to be a move. As a result, if an argument has <code>copy</code> and does not have <code>drop</code>, the last usage <em>must</em> be by value. Otherwise, the transaction will fail because a value without <code>drop</code> has not been used.</p>
<p>The borrowing of arguments has other rules to ensure unique safe usage of an argument by reference. If an argument is:</p>
<ul>
<li>Mutably borrowed, there must be no outstanding borrows. Duplicate borrows with an outstanding mutable borrow could lead to dangling references (references that point to invalid memory).</li>
<li>Immutably borrowed, there must be no outstanding mutable borrows. Duplicate immutable borrows are allowed.</li>
<li>Moved, there must be no outstanding borrows. Moving a borrowed value would dangle those outstanding borrows, making them unsafe.</li>
<li>Copied, there can be outstanding borrows, mutable or immutable. While it might lead to some unexpected results in some cases, there is no safety concern.</li>
</ul>
<p>Object inputs have the type of their object <code>T</code> as you might expect. However, for <code>ObjectArg::Receiving</code> inputs, the object type <code>T</code> is instead wrapped as <code>sui::transfer::Receiving&lt;T&gt;</code>. This is because the object is not owned by the sender, but instead by another object. And to prove ownership with that parent object, you call the <code>sui::transfer::receive</code> function to remove the wrapper.</p>
<p>The <code>GasCoin</code> has special restrictions on being used by-value (moved). You can only use it by-value with the <code>TransferObjects</code> command.</p>
<p>Shared objects also have restrictions on being used by-value. These restrictions exist to ensure that at the end of the transaction the shared object is either still shared or deleted. A shared object cannot be unshared (having the owner changed) and it cannot be wrapped. A shared object:</p>
<ul>
<li>Marked as not <code>mutable</code> (being used read-only) cannot be used by value.</li>
<li>Cannot be transferred or frozen. These checks are not done dynamically, however, but rather at the end of the transaction only. For example, <code>TransferObjects</code> succeeds if passed a shared object, but at the end of execution the transaction fails.</li>
<li>Can be wrapped and can become a dynamic field transiently, but by the end of the transaction it must be re-shared or deleted.</li>
</ul>
<p>Pure values are not type checked until their usage. When checking if a pure value has type <code>T</code>, it is checked whether <code>T</code> is a valid type for a pure value (see the previous list). If it is, the bytes are then validated. You can use a pure value with multiple types as long as the bytes are valid for each type. For example, you can use a string as an ASCII string <code>std::ascii::String</code> and as a UTF8 string <code>std::string::String</code>. However, after you mutably borrow the pure value, the type becomes fixed, and all future usages must be with that type.</p>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="transferobjects"><code>TransferObjects</code><a href="prog-txn-blocks.html#transferobjects" class="hash-link" aria-label="Direct link to transferobjects" title="Direct link to transferobjects">​</a></h4>
<p>The command has the form <code>TransferObjects(ObjectArgs, AddressArg)</code> where <code>ObjectArgs</code> is a vector of objects and <code>AddressArg</code> is the address the objects are sent to.</p>
<ul>
<li>Each argument <code>ObjectArgs: [Argument]</code> must be an object, however, the objects do not need to have the same type.</li>
<li>The address argument <code>AddressArg: Argument</code> must be an address, which could come from a <code>Pure</code> input or a result.</li>
<li>All arguments, objects and address, are taken by value.</li>
<li>The command does not produce any results (an empty result vector).</li>
<li>While the signature of this command cannot be expressed in Move, you can think of it roughly as having the signature <code>(vector&lt;forall T: key + store. T&gt;, address): ()</code> where <code>forall T: key + store. T</code> is indicating that the <code>vector</code> is a heterogeneous vector of objects.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="splitcoins"><code>SplitCoins</code><a href="prog-txn-blocks.html#splitcoins" class="hash-link" aria-label="Direct link to splitcoins" title="Direct link to splitcoins">​</a></h4>
<p>The command has the form <code>SplitCoins(CoinArg, AmountArgs)</code> where <code>CoinArg</code> is the coin being split and <code>AmountArgs</code> is a vector of amounts to split off.</p>
<ul>
<li>When the transaction is signed, the network verifies that the <code>AmountArgs</code> is non-empty.</li>
<li>The coin argument <code>CoinArg: Argument</code> must be a coin of type <code>sui::coin::Coin&lt;T&gt;</code> where <code>T</code> is the type of the coin being split. It can be any coin type and is not limited to <code>SUI</code> coins.</li>
<li>The amount arguments <code>AmountArgs: [Argument]</code> must be <code>u64</code> values, which could come from a <code>Pure</code> input or a result.</li>
<li>The coin argument <code>CoinArg</code> is taken by mutable reference.</li>
<li>The amount arguments <code>AmountArgs</code> are taken by value (copied).</li>
<li>The result of the command is a vector of coins, <code>sui::coin::Coin&lt;T&gt;</code>. The coin type <code>T</code> is the same as the coin being split, and the number of results matches the number of arguments</li>
<li>For a rough signature expressed in Move, it is similar to a function <code>&lt;T: key + store&gt;(coin: &amp;mut sui::coin::Coin&lt;T&gt;, amounts: vector&lt;u64&gt;): vector&lt;sui::coin::Coin&lt;T&gt;&gt;</code> where the result <code>vector</code> is guaranteed to have the same length as the <code>amounts</code> vector.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="mergecoins"><code>MergeCoins</code><a href="prog-txn-blocks.html#mergecoins" class="hash-link" aria-label="Direct link to mergecoins" title="Direct link to mergecoins">​</a></h4>
<p>The command has the form <code>MergeCoins(CoinArg, ToMergeArgs)</code> where the <code>CoinArg</code> is the target coin in which the <code>ToMergeArgs</code> coins are merged into. In other words, you merge multiple coins (<code>ToMergeArgs</code>) into a single coin (<code>CoinArg</code>).</p>
<ul>
<li>When the transaction is signed, the network verifies that the <code>ToMergeArgs</code> is non-empty.</li>
<li>The coin argument <code>CoinArg: Argument</code> must be a coin of type <code>sui::coin::Coin&lt;T&gt;</code> where <code>T</code> is the type of the coin being merged. It can be any coin type and is not limited to <code>SUI</code> coins.</li>
<li>The coin arguments <code>ToMergeArgs: [Argument]</code> must be <code>sui::coin::Coin&lt;T&gt;</code> values where the <code>T</code> is the same type as the <code>CoinArg</code>.</li>
<li>The coin argument <code>CoinArg</code> is taken by mutable reference.</li>
<li>The merge arguments <code>ToMergeArgs</code> are taken by value (moved).</li>
<li>The command does not produce any results (an empty result vector).</li>
<li>For a rough signature expressed in Move, it is similar to a function <code>&lt;T: key + store&gt;(coin: &amp;mut sui::coin::Coin&lt;T&gt;, to_merge: vector&lt;sui::coin::Coin&lt;T&gt;&gt;): ()</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="makemovevec"><code>MakeMoveVec</code><a href="prog-txn-blocks.html#makemovevec" class="hash-link" aria-label="Direct link to makemovevec" title="Direct link to makemovevec">​</a></h4>
<p>The command has the form <code>MakeMoveVec(VecTypeOption, Args)</code> where <code>VecTypeOption</code> is an optional argument specifying the type of the elements in the vector being constructed and <code>Args</code> is a vector of arguments to be used as elements in the vector.</p>
<ul>
<li>When the transaction is signed, the network verifies that if that the type must be specified for an empty vector of <code>Args</code>.</li>
<li>The type <code>VecTypeOption: Option&lt;TypeTag&gt;</code> is an optional argument specifying the type of the elements in the vector being constructed. The <code>TypeTag</code> is a Move type for the elements in the vector, i.e. the <code>T</code> in the produced <code>vector&lt;T&gt;</code>.<!-- -->
<ul>
<li>The type does not have to be specified for an object vector--when <code>T: key</code>.</li>
<li>The type <em>must</em> be specified if the type is not an object type or when the vector is empty.</li>
</ul>
</li>
<li>The arguments <code>Args: [Argument]</code> are the elements of the vector. The arguments can be any type, including objects, pure values, or results from previous commands.</li>
<li>The arguments <code>Args</code> are taken by value. Copied if <code>T: copy</code> and moved otherwise.</li>
<li>The command produces a <em>single</em> result of type <code>vector&lt;T&gt;</code>. The elements of the vector cannot then be accessed individually using <code>NestedResult</code>. Instead, the entire vector must be used as an argument to another command. If you wish to access the elements individually, you can use the <code>MoveCall</code> command and do so inside of Move code.</li>
<li>While the signature of this command cannot be expressed in Move, you can think of it roughly as having the signature <code>(T...): vector&lt;T&gt;</code> where <code>T...</code> indicates a variadic number of arguments of type <code>T</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="movecall"><code>MoveCall</code><a href="prog-txn-blocks.html#movecall" class="hash-link" aria-label="Direct link to movecall" title="Direct link to movecall">​</a></h4>
<p>This command has the form <code>MoveCall(Package, Module, Function, TypeArgs, Args)</code> where <code>Package::Module::Function</code> combine to specify the Move function being called, <code>TypeArgs</code> is a vector of type arguments to that function, and <code>Args</code> is a vector of arguments for the Move function.</p>
<ul>
<li>The package <code>Package: ObjectID</code> is the Object ID of the package containing the module being called.</li>
<li>The module <code>Module: String</code> is the name of the module containing the function being called.</li>
<li>The function <code>Function: String</code> is the name of the function being called.</li>
<li>The type arguments <code>TypeArgs: [TypeTag]</code> are the type arguments to the function being called. They must satisfy the constraints of the type parameters for the function.</li>
<li>The arguments <code>Args: [Argument]</code> are the arguments to the function being called. The arguments must be valid for the parameters as specified in the function&#x27;s signature.</li>
<li>Unlike the other commands, the usage of the arguments and the number of results are dynamic in that they both depend on the signature of the Move function being called.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="publish"><code>Publish</code><a href="prog-txn-blocks.html#publish" class="hash-link" aria-label="Direct link to publish" title="Direct link to publish">​</a></h4>
<p>The command has the form <code>Publish(ModuleBytes, TransitiveDependencies)</code> where <code>ModuleBytes</code> are the bytes of the module being published and <code>TransitiveDependencies</code> is a vector of package Object ID dependencies to link against.</p>
<p>When the transaction is signed, the network verifies that the <code>ModuleBytes</code> are not empty. The module bytes <code>ModuleBytes: [[u8]]</code> contain the bytes of the modules being published with each <code>[u8]</code> element is a module.</p>
<p>The transitive dependencies <code>TransitiveDependencies: [ObjectID]</code> are the Object IDs of the packages that the new package depends on. While each module indicates the packages used as dependencies, the transitive object IDs must be provided to select the version of those packages. In other words, these object IDs are used to select the version of the packages marked as dependencies in the modules.</p>
<p>After the modules in the package are verified, the <code>init</code> function of each module is called in same order as the module byte vector <code>ModuleBytes</code>.</p>
<p>The command produces a single result of type <code>sui::package::UpgradeCap</code>, which is the upgrade capability for the newly published package.</p>
<h4 class="anchor anchorWithStickyNavbar_uDrR" id="upgrade"><code>Upgrade</code><a href="prog-txn-blocks.html#upgrade" class="hash-link" aria-label="Direct link to upgrade" title="Direct link to upgrade">​</a></h4>
<p>The command has the form <code>Upgrade(ModuleBytes, TransitiveDependencies, Package, UpgradeTicket)</code>, where the <code>Package</code> indicates the object ID of the package being upgraded. The <code>ModuleBytes</code> and <code>TransitiveDependencies</code> work similarly as the <code>Publish</code> command.</p>
<p>For details on the <code>ModuleBytes</code> and <code>TransitiveDependencies</code>, see the <a href="prog-txn-blocks.html#publish"><code>Publish</code> command</a>. Note though, that no <code>init</code> functions are called for the upgraded modules.</p>
<p>The <code>Package: ObjectID</code> is the Object ID of the package being upgraded. The package must exist and be the latest version.</p>
<p>The <code>UpgradeTicket: sui::package::UpgradeTicket</code> is the upgrade ticket for the package being upgraded and is generated from the <code>sui::package::UpgradeCap</code>. The ticket is taken by value (moved).</p>
<p>The command produces a single result type <code>sui::package::UpgradeReceipt</code> which provides proof for that upgrade. For more details on upgrades, see <a href="../sui-move-concepts/packages/upgrade.html">Upgrading Packages</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="end-of-execution">End of execution<a href="prog-txn-blocks.html#end-of-execution" class="hash-link" aria-label="Direct link to End of execution" title="Direct link to End of execution">​</a></h3>
<p>At the end of execution, the remaining values are checked and effects for the transaction are calculated.</p>
<p>For inputs, the following checks are performed:</p>
<ul>
<li>Any remaining immutable or readonly input objects are skipped since no modifications have been made to them.</li>
<li>Any remaining mutable input objects are returned to their original owners--if they were shared they remain shared, if they were owned they remain owned.</li>
<li>Any remaining pure input values are dropped. Note that pure input values must have <code>copy</code> and <code>drop</code> since all permissible types for those values have <code>copy</code> and <code>drop</code>.</li>
<li>For any shared object you must also check that it has only been deleted or re-shared. Any other operation (wrap, transfer, freezing, and so on) results in an error.</li>
</ul>
<p>For results, the following checks are performed:</p>
<ul>
<li>Any remaining result with the <code>drop</code> ability is dropped.</li>
<li>If the value has <code>copy</code> but not <code>drop</code>, it&#x27;s last usage must have been by-value. In that way, it&#x27;s last usage is treated as a move.</li>
<li>Otherwise, an error is given because there is an unused value without <code>drop</code>.</li>
</ul>
<p>Any remaining SUI deducted from the gas coin at the beginning of execution is returned to the coin, even if the owner has changed. In other words, the maximum possible gas is deducted at the beginning of execution, and then the unused gas is returned at the end of execution (all in SUI). Because you can take the gas coin only by-value with <code>TransferObjects</code>, it will not have been wrapped or deleted.</p>
<p>The total effects (which contain the created, mutated, and deleted objects) are then passed out of the execution layer and are applied by the Sui network.</p>
<h2 class="anchor anchorWithStickyNavbar_uDrR" id="example">Example<a href="prog-txn-blocks.html#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h2>
<p>Let&#x27;s walk through an example of a PTB&#x27;s execution. While this example is not exhaustive in demonstrating all the rules, it does show the general flow of execution.</p>
<p>Suppose you want to buy two items from a marketplace costing <code>100 MIST</code>. You keep one for yourself, and then send the object and the remaining coin to a friend at address <code>0x808</code>. You can do that all in one PTB:</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">SharedObject</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* Marketplace shared object */</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  commands</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">SplitCoins</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">GasCoin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">MoveCall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;some_package&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;some_marketplace&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;buy_two&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">NestedResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TransferObjects</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">GasCoin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">NestedResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">MoveCall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;sui&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tx_context&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sender&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">TransferObjects</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">NestedResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">NestedResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The inputs include the friend&#x27;s address, the marketplace object, and the value for the coin split. For the commands, split off the coin, call the market place function, send the gas coin and one object, grab your address (via <code>sui::tx_context::sender</code>), and then send the remaining object to yourself. For simplicity, the documentation refers to the package names by name, but note that in practice they are referenced by the package&#x27;s Object ID.</p>
<p>To walk through this, first look at the memory locations, for the gas object, inputs, and results</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token class-name">Gas</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">sui</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">coin</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token class-name">Coin</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">SUI</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gas_coin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> balance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">sui</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">balance</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token class-name">Balance</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">SUI</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1_000_000u64</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token namespace" style="opacity:0.7">some_package</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">some_marketplace</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token class-name">Marketplace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Results</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here you have two objects loaded so far, the gas coin with a value of <code>1_000_000u64</code> and the marketplace object of type <code>some_package::some_marketplace::Marketplace</code> (these names and representations are shortened for simplicity going forward). The pure arguments are not loaded, and are present as BCS bytes.</p>
<p>Note that while gas is deducted at each command, that aspect of execution is not demonstrated in detail.</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="before-commands-start-of-execution">Before commands: start of execution<a href="prog-txn-blocks.html#before-commands-start-of-execution" class="hash-link" aria-label="Direct link to Before commands: start of execution" title="Direct link to Before commands: start of execution">​</a></h3>
<p>Before execution, remove the gas budget from the gas coin. Assume a gas budget of <code>500_000</code> so the gas coin now has a value of <code>500_000u64</code>.</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token class-name">Gas</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">SUI</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gas_coin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500_000u64</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The maximum gas is deducted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Marketplace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Results</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now you can execute the commands.</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="command-0-splitcoins">Command 0: <code>SplitCoins</code><a href="prog-txn-blocks.html#command-0-splitcoins" class="hash-link" aria-label="Direct link to command-0-splitcoins" title="Direct link to command-0-splitcoins">​</a></h3>
<p>The first command <code>SplitCoins(GasCoin, [Input(2)])</code> accesses the gas coin by mutable reference and loads the pure argument at <code>Input(2)</code> as a <code>u64</code> value of <code>100u64</code>. Because <code>u64</code> has the <code>copy</code> ability, you do not move the <code>Pure</code> input at <code>Input(2)</code>. Instead, the bytes are copied out.</p>
<p>For the result, a new coin object is made.</p>
<p>This gives us updated memory locations of</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token class-name">Gas</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">SUI</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gas_coin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">499_900u64</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Marketplace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Results</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Coin</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">SUI</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> new_coin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100u64</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The result of SplitCoins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="command-1-movecall">Command 1: <code>MoveCall</code><a href="prog-txn-blocks.html#command-1-movecall" class="hash-link" aria-label="Direct link to command-1-movecall" title="Direct link to command-1-movecall">​</a></h3>
<p>Now the command, <code>MoveCall(&quot;some_package&quot;, &quot;some_marketplace&quot;, &quot;buy_two&quot;, [], [Input(1), NestedResult(0, 0)])</code>. Call the function <code>some_package::some_marketplace::buy_two</code> with the arguments <code>Input(1)</code> and <code>NestedResult(0, 0)</code>. To determine how they are used, you need to look at the function&#x27;s signature. For this example, assume the signature is</p>
<div class="relative language-move codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-move codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token visibility keyword" style="color:#00009f">entry</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:#d73a49">buy_two</span><span class="token plain">(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property-name function-argument struct-property-name">marketplace</span><span class="token plain">: &amp;</span><span class="token mut-keyword keyword" style="color:#00009f">mut</span><span class="token plain"> Marketplace,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property-name function-argument struct-property-name">coin</span><span class="token plain">: </span><span class="token property-value">Coin</span><span class="token plain">&lt;Sui&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property-name function-argument struct-property-name">ctx</span><span class="token plain">: &amp;</span><span class="token mut-keyword keyword" style="color:#00009f">mut</span><span class="token plain"> TxContext,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">): (Item, Item)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>where <code>Item</code> is the type of the two objects being sold.</p>
<p>Since the <code>marketplace</code> parameter has type <code>&amp;mut Marketplace</code>, use <code>Input(1)</code> by mutable reference. Assume some modifications are being made into the value of the <code>Marketplace</code> object. However, the <code>coin</code> parameter has type <code>Coin&lt;Sui&gt;</code>, so use <code>NestedResult(0, 0)</code> by value. The <code>TxContext</code> input is automatically provided by the runtime.</p>
<p>This gives updated memory locations, where <code>_</code> indicates the object has been moved.</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token class-name">Gas</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">SUI</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gas_coin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">499_900u64</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Marketplace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Any mutations are applied</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Results</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The coin was moved</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Item</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> id1 </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> id2 </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The results from the Move call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Assume that <code>buy_two</code> deletes its <code>Coin&lt;SUI&gt;</code> object argument and transfers the <code>Balance&lt;SUI&gt;</code> into the <code>Marketplace</code> object.</p>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="command-2-transferobjects">Command 2: <code>TransferObjects</code><a href="prog-txn-blocks.html#command-2-transferobjects" class="hash-link" aria-label="Direct link to command-2-transferobjects" title="Direct link to command-2-transferobjects">​</a></h3>
<p><code>TransferObjects([GasCoin, NestedResult(1, 0)], Input(0))</code> transfers the gas coin and first item to the address at <code>Input(0)</code>. All inputs are by value, and the objects do not have <code>copy</code> so they are moved. While no results are given, the ownership of the objects is changed. This cannot be seen in the memory locations, but rather in the transaction effects.</p>
<p>You now have updated memory locations of</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token class-name">Gas</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> _ </span><span class="token comment" style="color:#999988;font-style:italic">// The gas coin is moved</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Marketplace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Results</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> id2 </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// One item was moved</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// No results from TransferObjects</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="command-3-movecall">Command 3: <code>MoveCall</code><a href="prog-txn-blocks.html#command-3-movecall" class="hash-link" aria-label="Direct link to command-3-movecall" title="Direct link to command-3-movecall">​</a></h3>
<p>Make another Move call, this one to <code>sui::tx_context::sender</code> with the signature</p>
<div class="relative language-move codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-move codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token visibility keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token function-keyword keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function-name function" style="color:#d73a49">sender</span><span class="token plain">(</span><span class="token property-name function-argument struct-property-name">ctx</span><span class="token plain">: &amp;</span><span class="token property-value">TxContext</span><span class="token plain">): </span><span class="token built-in-types keyword" style="color:#00009f">address</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>While you could have just passed in the sender&#x27;s address as a <code>Pure</code> input, this example demonstrates calling some of the additional utility of PTBs; while this function is not an <code>entry</code> function, you can call the <code>public</code> function, too, because you can provide all of the arguments. In this case, the only argument, the <code>TxContext</code>, is provided by the runtime. The result of the function is the sender&#x27;s address. Note that this value is not treated like the <code>Pure</code> inputs--the type is fixed to <code>address</code> and it cannot be deserialized into a different type, even if it has a compatible BCS representation.</p>
<p>You now have updated memory locations of</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token class-name">Gas</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Marketplace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Results</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> id2 </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token comment" style="color:#999988;font-style:italic">/* senders address */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// The result of the Move call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="command-4-transferobjects">Command 4: <code>TransferObjects</code><a href="prog-txn-blocks.html#command-4-transferobjects" class="hash-link" aria-label="Direct link to command-4-transferobjects" title="Direct link to command-4-transferobjects">​</a></h3>
<p>Finally, transfer the remaining item to yourself. This is similar to the previous <code>TransferObjects</code> command. You are using the last <code>Item</code> by-value and the sender&#x27;s address by-value. The item is moved because <code>Item</code> does not have <code>copy</code>, and the address is copied because <code>address</code> does have <code>copy</code>.</p>
<p>The final memory locations are</p>
<div class="relative language-rust codeBlockContainer_VAgd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-rust codeBlock_qGQc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_p187"><span class="token-line" style="color:#393A34"><span class="token class-name">Gas</span><span class="token plain"> </span><span class="token class-name">Coin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* @0x808 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Marketplace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> market_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Pure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* 100u64 BCS bytes */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Results</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _ </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token comment" style="color:#999988;font-style:italic">/* senders address */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// No results from TransferObjects</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_uDrR" id="after-commands-end-of-execution">After commands: end of execution<a href="prog-txn-blocks.html#after-commands-end-of-execution" class="hash-link" aria-label="Direct link to After commands: end of execution" title="Direct link to After commands: end of execution">​</a></h3>
<p>At the end of execution, the runtime checks the remaining values, which are the three inputs and
the sender&#x27;s address. The following summarizes the checks performed before effects are given:</p>
<ul>
<li>Any remaining input objects are marked as being returned to their original owners.<!-- -->
<ul>
<li>The gas coin has been Moved. And the <code>Marketplace</code> keeps the same owner, which is shared.</li>
</ul>
</li>
<li>All remaining values must have <code>drop</code>.<!-- -->
<ul>
<li>The Pure inputs have <code>drop</code> because any type they can instantiate has <code>drop</code>.</li>
<li>The sender&#x27;s address has <code>drop</code> because the primitive type <code>address</code> has <code>drop</code>.</li>
<li>All other results have been moved.</li>
</ul>
</li>
<li>Any remaining shared objects must have been deleted or re-shared.<!-- -->
<ul>
<li>The <code>Marketplace</code> object was not moved, so the owner remains as shared.</li>
</ul>
</li>
</ul>
<p>After these checks are performed, generate the effects.</p>
<ul>
<li>The coin split off from the gas coin, <code>new_coin</code>, does not appear in the effects because it was created and deleted in the same transaction.</li>
<li>The gas coin and the item with <code>id1</code> are transferred to <code>0x808</code>.<!-- -->
<ul>
<li>The gas coin is mutated to update its balance. The remaining gas of the maximum budget of <code>500_000</code> is returned to the gas coin even though the owner has changed.</li>
<li>The <code>Item</code> with <code>id1</code> is a newly created object.</li>
</ul>
</li>
<li>The item with <code>id2</code> is transferred to the sender&#x27;s address.<!-- -->
<ul>
<li>The <code>Item</code> with <code>id2</code> is a newly created object.</li>
</ul>
</li>
<li>The <code>Marketplace</code> object is returned, remains shared, and it&#x27;s mutated.<!-- -->
<ul>
<li>The object remains shared but its contents are mutated.</li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/MystenLabs/sui/tree/main/docs/docs/../content/concepts/transactions/prog-txn-blocks.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UIwc" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ddNZ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="../transactions.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Transactions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="sponsored-transactions.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sponsored Transactions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_M9jW thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="prog-txn-blocks.html#transaction-type" class="table-of-contents__link toc-highlight">Transaction type</a></li><li><a href="prog-txn-blocks.html#inputs-and-results" class="table-of-contents__link toc-highlight">Inputs and results</a><ul><li><a href="prog-txn-blocks.html#inputs" class="table-of-contents__link toc-highlight">Inputs</a></li><li><a href="prog-txn-blocks.html#results" class="table-of-contents__link toc-highlight">Results</a></li><li><a href="prog-txn-blocks.html#argument-structure-and-usage" class="table-of-contents__link toc-highlight">Argument structure and usage</a></li></ul></li><li><a href="prog-txn-blocks.html#execution" class="table-of-contents__link toc-highlight">Execution</a><ul><li><a href="prog-txn-blocks.html#start-of-execution" class="table-of-contents__link toc-highlight">Start of execution</a></li><li><a href="prog-txn-blocks.html#executing-a-transaction-command" class="table-of-contents__link toc-highlight">Executing a transaction command</a></li><li><a href="prog-txn-blocks.html#end-of-execution" class="table-of-contents__link toc-highlight">End of execution</a></li></ul></li><li><a href="prog-txn-blocks.html#example" class="table-of-contents__link toc-highlight">Example</a><ul><li><a href="prog-txn-blocks.html#before-commands-start-of-execution" class="table-of-contents__link toc-highlight">Before commands: start of execution</a></li><li><a href="prog-txn-blocks.html#command-0-splitcoins" class="table-of-contents__link toc-highlight">Command 0: <code>SplitCoins</code></a></li><li><a href="prog-txn-blocks.html#command-1-movecall" class="table-of-contents__link toc-highlight">Command 1: <code>MoveCall</code></a></li><li><a href="prog-txn-blocks.html#command-2-transferobjects" class="table-of-contents__link toc-highlight">Command 2: <code>TransferObjects</code></a></li><li><a href="prog-txn-blocks.html#command-3-movecall" class="table-of-contents__link toc-highlight">Command 3: <code>MoveCall</code></a></li><li><a href="prog-txn-blocks.html#command-4-transferobjects" class="table-of-contents__link toc-highlight">Command 4: <code>TransferObjects</code></a></li><li><a href="prog-txn-blocks.html#after-commands-end-of-execution" class="table-of-contents__link toc-highlight">After commands: end of execution</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer_BCnt"><div class="footerWrap_s_fg"><div class="footerLogo_uCsX"><a href="https://sui.io" rel="noopener noreferrer" class="footerLogoLink_DDai"><img src="../../img/sui-logo-footer.svg" alt="Sui Logo" class="footer__logo themedComponent_fc7v themedComponent--light_SFoa"><img src="../../img/sui-logo-footer.svg" alt="Sui Logo" class="footer__logo themedComponent_fc7v themedComponent--dark_o7dU"></a></div><div class="footerContent_UF16"><div class="footerLinks_O35S"><a href="https://discord.gg/Sui" target="_blank" rel="noopener noreferrer"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32ZM18.519 8.80985C19.7766 9.02894 20.9792 9.41425 22.1012 9.93555C22.111 9.93957 22.1191 9.94707 22.1239 9.9567C24.1119 12.9198 25.0931 16.2637 24.7265 20.1122C24.7256 20.1203 24.7231 20.1282 24.719 20.1352C24.715 20.1423 24.7095 20.1483 24.703 20.153C23.3695 21.1539 21.8815 21.9153 20.3017 22.4052C20.2905 22.4086 20.2786 22.4084 20.2676 22.4046C20.2566 22.4008 20.247 22.3936 20.2401 22.384C19.9079 21.9149 19.6057 21.4207 19.3418 20.9017C19.3382 20.8946 19.3361 20.8867 19.3357 20.8786C19.3352 20.8706 19.3365 20.8626 19.3394 20.855C19.3422 20.8475 19.3466 20.8407 19.3522 20.8351C19.3578 20.8295 19.3645 20.8251 19.3718 20.8224C19.8507 20.6396 20.3068 20.4197 20.7453 20.1598C20.7531 20.155 20.7597 20.1483 20.7644 20.1403C20.769 20.1323 20.7717 20.1232 20.7722 20.1138C20.7726 20.1045 20.7708 20.0951 20.7669 20.0867C20.7629 20.0782 20.757 20.0709 20.7497 20.0654C20.6566 19.9951 20.5649 19.9218 20.4769 19.8478C20.4689 19.8412 20.4591 19.837 20.4489 19.8358C20.4387 19.8346 20.4283 19.8364 20.419 19.841C17.573 21.1737 14.4542 21.1737 11.5745 19.841C11.5652 19.8367 11.555 19.8351 11.5449 19.8364C11.5348 19.8378 11.5252 19.842 11.5173 19.8485C11.4293 19.9218 11.3369 19.9951 11.2445 20.0654C11.2373 20.071 11.2315 20.0784 11.2277 20.087C11.2239 20.0955 11.2222 20.1049 11.2228 20.1142C11.2233 20.1236 11.2262 20.1326 11.231 20.1406C11.2358 20.1486 11.2425 20.1552 11.2504 20.1598C11.6904 20.4176 12.1494 20.6394 12.6231 20.8231C12.6305 20.8258 12.6372 20.8301 12.6428 20.8356C12.6484 20.8412 12.6527 20.8479 12.6556 20.8554C12.6584 20.8628 12.6597 20.8708 12.6593 20.8788C12.6589 20.8868 12.6568 20.8946 12.6532 20.9017C12.3943 21.4211 12.0935 21.9172 11.7542 22.3848C11.747 22.3941 11.7373 22.4009 11.7263 22.4044C11.7153 22.4079 11.7036 22.4079 11.6926 22.4044C10.1155 21.9132 8.62981 21.1521 7.29783 20.153C7.2915 20.148 7.28623 20.1418 7.28232 20.1346C7.27841 20.1275 7.27595 20.1196 7.2751 20.1115C6.96784 16.7827 7.59336 13.4116 9.87542 9.95519C9.88104 9.94609 9.88923 9.93897 9.89889 9.93479C11.0216 9.41274 12.2242 9.02743 13.4811 8.80834C13.4925 8.80648 13.5041 8.80824 13.5144 8.81337C13.5248 8.8185 13.5334 8.82676 13.5391 8.83704C13.7065 9.13791 13.8576 9.44814 13.9915 9.76632C15.3253 9.561 16.6814 9.561 18.0152 9.76632C18.1355 9.47922 18.307 9.11583 18.461 8.83704C18.4668 8.82688 18.4754 8.8188 18.4858 8.81393C18.4962 8.80906 18.5078 8.80763 18.519 8.80985ZM11.5019 16.2863C11.5019 17.2768 12.2169 18.0844 13.0837 18.0844C13.9644 18.0844 14.6654 17.2776 14.6654 16.2863C14.6794 15.3019 13.971 14.4882 13.0837 14.4882C12.203 14.4882 11.5019 15.2951 11.5019 16.2863ZM17.3501 16.2863C17.3501 17.2768 18.0643 18.0844 18.9318 18.0844C19.8199 18.0844 20.5136 17.2776 20.5136 16.2863C20.5275 15.3019 19.8191 14.4882 18.9318 14.4882C18.0504 14.4882 17.3501 15.2951 17.3501 16.2863Z" fill="#F7F7F8"></path></svg></a><a href="https://x.com/suinetwork" target="_blank" rel="noopener noreferrer"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32ZM23.4785 8L17.5222 15.1983H17.5218L24 25H19.2356L14.8732 18.3996L9.41155 25H8L14.2466 17.4514L8 8H12.7644L16.8952 14.2502L22.0671 8H23.4785ZM14.956 16.5936L15.5889 17.5347V17.5351L19.8997 23.9455H22.0677L16.7851 16.0896L16.1522 15.1484L12.0882 9.10473H9.92015L14.956 16.5936Z" fill="#F7F7F8"></path></svg></a><a href="https://www.youtube.com/@Sui-Network" target="_blank" rel="noopener noreferrer"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 32C24.8366 32 32 24.8366 32 16C32 7.16345 24.8366 0 16 0C7.16345 0 0 7.16345 0 16C0 24.8366 7.16345 32 16 32ZM12.4216 22.5897L16.2654 22.6599C16.2715 22.6599 16.2838 22.6599 16.2837 22.6693C18.4242 22.7093 20.5097 22.5839 22.6442 22.4281C24.3478 22.309 24.7515 21.0753 24.9625 19.6041C25.2255 17.8272 25.2836 16.029 25.146 14.2399C25.1394 14.1551 25.133 14.0695 25.1265 13.9834C24.9983 12.2716 24.8541 10.3478 22.8277 9.99315C22.3965 9.91678 21.9562 9.84968 21.519 9.83741C17.3786 9.7035 13.2014 9.66949 9.05176 9.95651C7.82251 10.0356 7.02764 10.7624 6.82566 11.9804C6.46788 14.1511 6.39448 16.3798 6.58407 18.5688C6.58644 18.5956 6.5888 18.6224 6.59117 18.6494C6.7267 20.1892 6.88506 21.9886 8.70927 22.3607C9.69137 22.5646 10.6913 22.5728 11.6931 22.5809C11.9359 22.5829 12.1788 22.5849 12.4216 22.5897ZM16.0006 17.7909C15.3384 18.1708 14.6747 18.5517 14.0056 18.9352V13.4459C14.7432 13.8683 15.4755 14.2887 16.2087 14.7096C17.0653 15.2013 17.923 15.6937 18.7913 16.1905C17.8572 16.7255 16.9304 17.2573 16.0006 17.7909Z" fill="#F7F7F8"></path></svg></a><a href="https://www.linkedin.com/company/sui-foundation/" target="_blank" rel="noopener noreferrer"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 0C7.16337 0 0 7.16339 0 16C0 24.8366 7.16337 32 16 32C24.8366 32 32 24.8366 32 16C31.9999 7.16339 24.8364 0 16 0ZM11.7311 23.7353H8.21819V12.3859H11.7311V23.7353ZM9.95793 10.8996C8.81063 10.8996 7.88055 9.96193 7.88055 8.80545C7.88055 7.64883 8.81076 6.71123 9.95793 6.71123C11.1051 6.71123 12.0352 7.64883 12.0352 8.80545C12.0352 9.962 11.1052 10.8996 9.95793 10.8996ZM24.8959 23.7353H21.4V17.7778C21.4 16.1438 20.7794 15.2317 19.4873 15.2317C18.0812 15.2317 17.3466 16.1817 17.3466 17.7778V23.7353H13.9773V12.3859H17.3466V13.9145C17.3466 13.9145 18.3601 12.0397 20.7666 12.0397C23.1732 12.0397 24.896 13.5091 24.896 16.549L24.8959 23.7353Z" fill="#F7F7F8"></path></svg></a></div><div class="footerCopy_WbJ_"><div class="text-sm lg:text-xs xl:text-sm mt-2">© 2025 Sui Foundation | Documentation distributed under <a href="https://github.com/MystenLabs/sui/blob/main/docs/site/LICENSE">CC BY 4.0</a></div></div></div></div></footer></div>
<div id="__cookbook" data-api-key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2NjU5ODBiNDAwZTliZDQ2MzcwZDlhNzYiLCJpYXQiOjE3MTcxNDE2ODQsImV4cCI6MjAzMjcxNzY4NH0.0JCgi4bJ_f6ILFgEyYAP-KeCm1dzOKwH30tC3jEs2_A"></div>

            <script>function initCookbook(){try{window.__cookbook_script&&window.__cookbook_script.remove();const o=document.createElement("script");o.src="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js",o.async=!0,document.body.appendChild(o),window.__cookbook_script=o}catch(o){console.error("Error while initializing Cookbook:",o)}}</script></body>
</html>